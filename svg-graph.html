<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 minimum-scale=1.0 maximum-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <meta name="googlebot" content="noindex,nofollow">
    <title>SVG Graph</title>
    <style>
        body{
            margin: 8px; padding: 0;
            background-color: #f8f8f8;
        }
        .graph{
            /*border: 1px solid #ddd;*/
            padding: 10px;
            background-color: #fff;
        }
        .graph svg{
            width: 100%; height: 250px;
        }
        .graph-wrap{
        }
        .graph-line line{
            stroke: #eee;
            stroke-width: 1;
        }
        .graph-unit{
        }
        .graph-unit text{
            cursor: default; user-select: none; -webkit-font-smoothing: antialiased;
            font-size: 12px; color: #333;
        }
    </style>
</head>
<body>

    <div class="graph">

        <?xml version="1.0" standalone="no"?>
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svg">

            <!-- 그래프 영역 -->
            <g class="graph-wrap">

                <!-- background -->
                <!-- <g class="graph-bg">
                    <rect width="100%" height="100%" stroke="none" stroke-width="0" fill="#fff"></rect>
                </g> -->
                
                <!-- graph area -->
                <g class="graph-canvas">
                    <!-- horizontal line -->
                    <g class="graph-line">
                        <line x1="50" y1="40" x2="100%" y2="40" />
                        <line x1="50" y1="80" x2="100%" y2="80" />
                        <line x1="50" y1="120" x2="100%" y2="120" />
                        <line x1="50" y1="160" x2="100%" y2="160" />
                        <line x1="50" y1="200" x2="100%" y2="200" />
                    </g>
                    <!-- graph -->
                    <g class="graph-graph"></g>
                </g>
                    
                <!-- unit -->
                <g class="graph-unit">
                    <!-- 세로 단위 -->
                    <!-- <text text-anchor="end" x="40" y="45">20000</text>
                    <text text-anchor="end" x="40" y="85">15000</text>
                    <text text-anchor="end" x="40" y="125">10000</text>
                    <text text-anchor="end" x="40" y="165">5000</text> -->
                    <!-- 가로 단위 -->
                </g>

            </g>

            <!-- 팁 -->
            <g class="graph-tip">
            </g>

        </svg>

    </div>
    
    <script>
        
        /* 그래프 */
        var graphDraw = function(){
            var i,
                xLen = 7,
                yLen = 4,
                spaceL = 50,
                spaceT = 40,
                arrUnit = [],
                arrLine = [],
                arrGraph = [];

            var svg = document.getElementById('svg');
            var graphCanvas = svg.getElementsByClassName('graph-canvas')[0];
            var graphUnit = svg.getElementsByClassName('graph-unit')[0];
            var graphLine = svg.getElementsByClassName('graph-line')[0];
            var graphGraph = svg.getElementsByClassName('graph-graph')[0];

            var graphCanvasWidth = graphCanvas.getBoundingClientRect().width;
            var graphCanvasHeight = graphCanvas.getBoundingClientRect().height;
            var unitX = graphCanvasWidth/xLen;
            var unitY = graphCanvasHeight/yLen;

            // 가로 단위 
            for(i=0 ; i<xLen; i++){
                var week = ['월', '화', '수', '목', '금', '토', '일']
                var x = unitX*i + unitX/2 + spaceL;
                var tp = `<text text-anchor="middle" x=${x} y="220">${week[i]}</text>`;
                arrUnit.push(tp);
            }
            // 세로단위
            for(i=0 ; i<yLen ; i++){
                var maxValue = 20000;   // 임의
                var unit = maxValue/yLen;
                var value = unit + unit * (yLen-i-1);
                var y = unitY * i + spaceT + 5;
                var tp = `<text text-anchor="end" x=${spaceT} y=${y}>${value}</text>`;
                arrUnit.push(tp);
            }
            graphUnit.innerHTML = arrUnit.join('');


            // 라인 
            /*for(i=0 ; i<=yLen ; i++){
               var y = unitY * i + spaceT;
               var tp = `<line x1=${spaceL} y1=${y} x2="100%" y2=${y} />`;
               arrLine.push(tp);
            }
            console.log('graphLine', graphLine);
            graphLine.innerHTML = arrLine.join('');*/


            // 그래프
            var w = unitX/3;
            console.log('unitX', unitX); // 41
            for(i=0 ; i<xLen; i++){
                var x = unitX*i + w + spaceL;
                var tp = `<rect x=${x} y=${spaceT} width=${w} height=${graphCanvasHeight} stroke="#b87333" stroke-width="1" fill="#b87333"></rect>`;
                arrGraph.push(tp);
            }
            graphGraph.innerHTML = arrGraph.join('');

        }

        graphDraw();

        window.onresize = function(){
            graphDraw();
        };
        
    </script>
</body>
</html>
