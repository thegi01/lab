<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 minimum-scale=1.0 maximum-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <meta name="googlebot" content="noindex,nofollow">
    <title>Color Gradient</title>
    <link rel="stylesheet" type="text/css" href="reset.css"> 
    <style>
        body {
            margin: 1rem;
        }
        h1 {
            margin: 1rem 0;
        }
        .obj {
            width: 100%; height: 100px;
            margin: 0 auto;
            /* background-image: -webkit-linear-gradient(-45deg, #fefefe, #e8e8e8);
            background-image: -o-linear-gradient(-45deg, #fefefe, #e8e8e8);
            background-image: linear-gradient(-45deg, #fefefe, #e8e8e8);
            background-repeat: repeat-x;
            background-color: #e8e8e8; */
        }
        input[type="color"]{
        }
        input[type="number"]{
            width: 50px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
<div class="wrap">
    <form name="formColor">
        <input type="color" name="color1">
        <input type="color" name="color2" value="#ffffff">
        <input type="number" name="angle" value="-45">
       <!--  <select name="directon1">
            <option value="left" selected>left</option>
            <option value="right">right</option>
        </select>
        <select name="directon2">
            <option value="top" selected>top</option>
            <option value="bottom">bottom</option>
        </select> -->
        <input type="submit" value="적용하기">
    </form>

    <div class="obj" id="target">
        color gradient in inline style
    </div>
</div>
<script>

    var getCssValuePrefix =  function() {
        var rtrnVal = '';//default to standard syntax
        var prefixes = ['-o-', '-ms-', '-moz-', '-webkit-'];
        // Create a temporary DOM object for testing
        var dom = document.createElement('div');
        for (var i = 0; i < prefixes.length; i++) {
            // Attempt to set the style
            dom.style.background = prefixes[i] + 'linear-gradient(#000000, #ffffff)';
            // Detect if the style was successfully set
            if (dom.style.background) rtrnVal = prefixes[i];
        }
        dom = null;
        delete dom;
        return rtrnVal;
    }

    
    let form = document.forms['formColor'],
        colorEl1 = form.color1,
        colorEl2 = form.color2,
        angleEl = form.angle,
        directionEl1 = form.directon1,
        directionEl2 = form.directon2,
        color1, color2,
        angle,
        direction1, directon2;


    form.addEventListener('submit', function(event){
        event.preventDefault();
        color1 = colorEl1.value;
        color2 = colorEl2.value;
        angle = angleEl.value;
        // selelct1 = directionEl1.value;
        // selelct2 = directionEl2.value;
        // console.log('selelct1', selelct1);
        // console.log('selelct2', selelct2);
        document.getElementById('target').style.backgroundImage = getCssValuePrefix() + 'linear-gradient('+ angle + 'deg, ' + color1 + ', ' + color2 + ')';
    });



</script>
</body>
</html>